<style>
  @media print {
    #sidebar {
      display: none;
    }

    #print {
      display: none;
    }

    .search {
      display: none;
    }

    .edit {
      display: none;
    }
  }
</style>

<%- include('partials/NewSideBar') %>
  <main class="bg-light">

    <div>
      <%- include('partials/navbar') %>
    </div>

    <div class="row mx-1 my-4">

      <div class="col-md-12 bg-white shadow-sm my-4" id="data-table">

        <div class="d-flex align-items-center justify-content-between">

          <div>
            <h2>Launched Courses</h2>
            <p>This Table Conatains All The Launched Courses</p>
          </div>

          <form action="#" class="d-flex" id="search-btn">
            <input type="text" class="form-control search" id="search-form">
            <button class="search mybtn bg-dark text-white mx-2">Search</button>
          </form>
        </div>

        <table class="table table-striped table-bordered">
          <thead>
            <tr class="bg-dark">
              <th class="text-white">Title</th>
              <th class="text-white">Category</th>
              <th class="text-white">Instructor</th>
              <th class="text-white">Language</th>
              <th class="text-white">Course Fees</th>
              <th class="text-white">Duration</th>
            </tr>
          </thead>
          <tbody>
            <% AllCourse.forEach(course=> { %>

              <tr>
                <td>
                  <%=course.course_title%>
                </td>
                <td>
                  <%=course.course_category%>
                </td>
                <td>
                  <%=course.course_tutor%>
                </td>
                <td>
                  <%=course.course_language%>
                </td>
                <td>
                  <%=course.course_fee%>
                </td>
                <td>
                  <%=course.course_duration %> Weeks
                </td>
              </tr>

              <%}); %>
          </tbody>
        </table>

      </div>
    </div>

  </main>

  <script>

    let field = "";
    let searchform = document.getElementById('search-form');

    searchform.addEventListener('input', (event) => {
      field = event.target.value;
    })


    let searchbtn = document.getElementById('search-btn');
    searchbtn.addEventListener('submit', (event) => {
      event.preventDefault();
      window.location.href = `/elearning/api/v1/admin/course_list/?name=${field}`
    })
  </script>